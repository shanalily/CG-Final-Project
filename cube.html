<!DOCTYPE html>
<html>
	<head>
		<title>Cube</title>
		<link rel="stylesheet" href="cube_files/cube.css">
		<!-- vertex shader -->
		<script id="vertex-shader" type="x-shader/x-vertex">
			attribute vec4 vPosition;
			attribute vec4 vColor;
			attribute vec2 vTexCoord;

			varying vec4 fColor;
			varying vec2 fTexCoord;

			uniform vec4 r;

			vec4 multq(vec4 a, vec4 b) {
				return vec4(a.x*b.x - dot(a.yzw, b.yzw), a.x*b.yzw+b.x*a.yzw+cross(b.yzw, a.yzw));
			}

			vec4 invq(vec4 a) {
				return vec4(a.x, -a.yzw)/dot(a,a);
			}

			void main() {
		  		vec4 p;
				p = vec4(0.0, vPosition.xyz);
				// calculate qpq*
				p = multq(r, multq(p, invq(r)));
				gl_Position = vec4(p.yzw, 1.0);
				gl_Position.z = -gl_Position.z;
				fColor = vColor;
				fTexCoord = vTexCoord;
			}
		</script>
		<!-- fragment shader -->
		<script id="fragment-shader" type="x-shader/x-fragment">
			precision mediump float;

			varying vec4 fColor;
			varying vec2 fTexCoord;

			uniform sampler2D texture;

			void main() {
				gl_FragColor = fColor;
				// gl_FragColor = fColor * texture2D(texture, fTexCoord);
			}
		</script>
		<!-- include js file -->
		<script type="text/javascript" src="./cube_files/webgl-utils.js"></script>
		<script type="text/javascript" src="./cube_files/initShaders.js"></script>
		<script type="text/javascript" src="./cube_files/MV.js"></script>
		<script type="text/javascript" src="./cube_files/vertices.js"></script>
		<script type="text/javascript" src="./cube_files/cube.js"></script>
	</head>
	<body>
		<canvas id="gl-canvas" width="750" height="750">
		Oops ... your browser doesn't support the HTML5 canvas element
		</canvas>
		<br/>
		<div class="row">
			<div>
				L<input id="L" type="range" min="-180" max="180" step="90" value="0"/>
			</div>
			<!-- <div>
				:)<input id="xMid" type="range" min="-180" max="180" step="90" value="0"/>
			</div> -->
			<div>
				R<input id="R" type="range" min="-180" max="180" step="90" value="0"/>
			</div>
		</div>
		<div class="row">
			<div>
				U<input id="U" type="range" min="-180" max="180" step="90" value="0"/>
			</div>
			<!-- <div>
				:)<input id="yMid" type="range" min="-180" max="180" step="90" value="0"/>
			</div> -->
			<div>
				D<input id="D" type="range" min="-180" max="180" step="90" value="0"/>
			</div>
		</div>
		<div class="row">
			<div>
				F<input id="F" type="range" min="-180" max="180" step="90" value="0"/>
			</div>
			<!-- <div>
				:)<input id="zMid" type="range" min="-180" max="180" step="90" value="0"/>
			</div> -->
			<div>
				B<input id="B" type="range" min="-180" max="180" step="90" value="0"/>
			</div>
		</div>
		<br/><br/>
		<div class="row">
			<p>VIEWS</p>
		</div>
		<div class="row">
			<button id="center" class="button">CENTER</button>
		</div>
		<div class="row">
			<button id="isometric" class="button">ISOMETRIC</button>
		</div>
		<br/><br/>
		<div class="row">
			SETTINGS
		</div>
		<div class="row">
			<button id="reset" class="button">RESET</button>
		</div>
		<!-- hidden images -->
		<img id="imageL" src="images/Afrikansk_dvargget.jpg" crossorigin="anonymous" hidden/>
		<img id="imageR" src=""/>
		<img id="imageU" src=""/>
		<img id="imageD" src=""/>
		<img id="imageF" src=""/>
		<img id="imageB" src=""/>
	</body>
</html>